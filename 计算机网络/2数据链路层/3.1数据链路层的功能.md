## 数据链路层的功能

在物理层提供的服务的基础上向网络层提供服务。

将可能出错的物理连接改造成==逻辑上无差错==的数据链路。



#### 为网络层提供服务

- 无确认的无连接服务

  用于==实时==通信的或==误码率比较低==的通信通道

- 有确认的无连接服务

  不需要建立连接，但收到后需确认，适用于误码率比较高的==无线==通信等

- 有确认的面向连接服务

  需建立连接，收到需确认。适用于通信==要求较高==的场合。



注意，有==连接==就==必须确认==，不存在无确认的面向连接的服务



#### 链路管理

数据链路层连接的==建立==，==维持==和==释放==过程称为==链路管理==。





#### 帧定界，帧同步与透明传输

:o:帧定界：

在数据包分装成帧的一个重要过程就是对帧的边界进行区分，使得能从接受的二进制比特流中区分出==帧头==与==帧尾==。

:o:最大传输单元：

帧的首尾部分应该远大于数据部分，以提升数据传输效率，但与此同时，==每一种==帧协议都有自己的==长度上限==，即最大传输单元(`MTU`)

在`HDLC`协议中，就是使用标示位$F (01111110)$来表示帧的==开始==和==结束==。

:o:透明传输：

为了预防帧数据中出现和表示==相同==的比特组合，导致==提前==结束帧。应采取措施，实现透明传输(不管什么样的组合，==都能==传输)，==通常==是转义。



#### 流量控制

:o:作用：

==协调==发送法的传输速率与接收方接受速率==一致==。

:o:注意：

流量控制并不是只有数据链路层有，高层的协议也是有的。数据链路层控制的是==相邻结点==的流量。传输层控制的是从==源端口==到==目的端口==的流量

在`OSI`体系中，==数据链路层==(其他层也有)有流量控制功能;在`TCP/IP`体系中，流量控制属于==传输层==。





#### 差错控制

:o:作用：

为了检测传输过程中的错误(==位错==和==帧错==)。

如果是==位错==。则可以利用==循环冗余法==(`CRC`)发现错误(只能发现，`CRC`不能纠错)，然后用==自动重传请求==(`ARQ`)重新传输错的帧。`ARQ`只需返回==很少==的信息就能确认帧==是否==传输正确。

在数据链路层引入==定时器==和==编号机制==后，==很少==会有错帧。