## 局域网的基本概念和体系结构

局域网(Local Area Network,`LAN`)指在较小范围内，将各种计算机，外部设备和数据库系统通过双绞线，同轴电缆等介质互相连通起来，组成资源共享的计算机互联网络。

:o:特点：

- 单位所有，地理范围和站点数有限
- 所有站点共享较高的总带宽
- 较低的时延和误码率
- 各站关系平等
- 能进行广播和组播



局域网的特性主要由3个要素决定：==拓扑结构==，==传输介质==，==介质访问控制方式==。

介质访问控制方式决定局域网的==技术特性==。

:o:常见的局域网拓扑结构:

- 星型结构
- 环形结构
- 总线型结构
- 星型和总线型结合的复合结构



:o:传输介质：

- 双绞线(主流)
- 铜缆
- 光纤



:o:传输访问控制：

- `CSMA/CD`(总线型)
- 令牌总线(总线型)
- 令牌环(环形局域网)



:o:三种特殊的局域网拓扑实现:

- 以太网(目前使用最广)

  逻辑拓扑是==总线==型，物理拓扑是==星型==或==拓展星型==

- 令牌环(`Token Ring`，IEEE 802.5)

  逻辑结构是==环形==结构，物理结构是==星形==结构。

- `FDDI`(光纤分布数字接口)

  逻辑拓扑是==环形==结构，物理拓扑是==星形==结构。



:o:数据链路层还有两个子层：

- ==逻辑链路==控制(`LLC`)

  紧贴==网络层==，提供`无确认无连接`，`面向连接`，`带确认无连接`。

- ==媒体接入==控制(`MAC`)

  紧贴==物理层==，`组帧/拆帧`， `比特传输差错检测`，`透明传输`





## 以太网与IEEE 802.3

简化了通信流程并使用了`CSMA/CD`对总线进行访问控制。

:o:简化措施:

- 采用无连接的方式，对数据帧==不编号==，发送方==不确认==。尽最大努力交付。提供不可靠服务，纠错由高层完成。
- 使用==曼彻斯特==编码(附带同步信号)



#### 以太网的的传输介质与网卡

:o:传输介质：

- 粗缆
- 细缆
- 双绞线
- 光纤

:o:网络接口卡(网卡,Network Interface Card,NIC)：

自带处理器和存储器。与电缆或双绞线通信用==串行==方式。与计算机主板用==并行==方式。同时工作在==物理层==和==数据链路层==。





#### 以太网的MAC帧

`MAC`地址长6字节(48`bit`)，高24位是`厂商代码`，低24位是`网卡序列号`。

:o:结构：

![以太帧结构（格式）](../pictures/3.6%E5%B1%80%E5%9F%9F%E7%BD%91.assets/6-191106130541362.gif)

:o:注意:

`MAC`帧不需要帧==结束符==。但数据链路层==必须==既要==首部==也要==尾部==

是否可以这样理解：它==本不需要==，但还是==必须有==。







#### 高速以太网

速率达到或超过`100Mb/s`的以太网称为==高速==以太网。

- `100BASE-T`以太网

  `100Mb/s`。既支持==全双工==又支持==半双工==。

- 吉比特以太网

  `1Gb/s`,==全双工==和==半双工==(向下兼容)

- 10吉比特以太网

  `10Gb/s`只支持==全双工==。



## IEEE 802.11无线局域网



#### 无线局域网的组成

- 有固定基础设施的无线局域网(wifi)(有集中控制设备)
- 无固定基础设施移动自组织网络(无集中控制设备，地位平等)

#### 802.11局域网的MAC帧

:o:主要4个地址:

- 地址1，==直接目的==地址
- 地址2，直接==源==地址
- 地址3，==最终目的==地址
- 地址4，用于自组网络。



#### VLAN基本概念与基本原理

:o:背景：

- 以太网广播域中有大量帧(尤其使用`ARP`和`DHCP`)
- 一个单位各单位不希望共享一个局域网(安全)



:o:原理：

将一个较大的局域网划分为几个==地理无关==的==逻辑==上的==虚拟局域网==。

在以太网帧中插入`4`字节，标识`VLAN`协议和`VLAN`的`ID`



虚拟局域网只是局域网提供给用户的==服务==，==不是==新型的局域网。