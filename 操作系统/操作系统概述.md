主要是以操作系统的发展脉络梳理而成，体现资源管理的艺术。

#操作系统的概念 
定义：**操作系统是控制和管理整个计算机系统的硬件和软件资源，合理的主治，调度计算机的工作与资源的分配，进而为用户和其他软件提供方便接口与环境的程序集合。**


#操作系统的特征：
- 1 并发
- 2 共享
	- 互斥共享
	- 同时访问
	注意：**并发和共享是操作系统最基本的两个特征**，互为存在条件。

- 3 虚拟
	- 时分复用技术
	- 空分复用技术
- 4 异步

#操作系统的目标和功能：

- 1 作为计算机资源的管理者 
	- 处理机管理
		以进程（线程）为单位。
	- 存储器管理
		核心是提高内存的利用率。
	- 文件管理
		文件系统，文件存储空间的管理，目录管理，文件读写管理及保护。
	- 设备管理

- 2 作为用户和计算机硬件系统之间的接口
	- 命令接口
		- 联机命令接口（交互式命令接口）
		- 脱机命令接口（批处理命令接口）
	- 程序接口


- 3 实现了对计算机资源的扩充（其本身也可以算作计算机资源）

#操作系统的发展历程
核心：处理人机矛盾，CPU和IO间的速度不匹配

手工阶段
批处理阶段：
	- 单道批处理
		- 自动性
		- 顺序性
		- 单道性
缺陷：运行期间的CPU利用不高，于是有了多道批处理

	- 多道批处理
		- 多道
		- 宏观上并行
		- 微观上串行
面临的新问题：如何分配==CPU==，如何分配==M==，如何分配==IO==，如何组成和存放多个程序和数据

使资源利用率高，提高了吞吐量，但响应时间长，没有==人机交互==


#分时操作系统
时间片，交互，互不干扰。

特性：
 - 同时性
 - 交互性
 - 独立性
 - 及时性

不足：不能满足某些特定情形下对实时性的强要求。

#实时操作系统的概念 
为了满足某些对实时性高的情形

 - 硬实时：保证绝对的实时响应
 - 软实时：可以允许==不==引起永久性损害的偶尔损害

要求：能在规定时间内处理来自外部的事件
注意：‘’规定时间“是指实时系统的精度，和时间片不是一个含义。


#网络操作系统和分布式操作系统
网络操作系统：多台计算机被抽象为一个
分布式操作系统：多台计算机协作（地位平等）

#个人计算机


#操作系统运行环境

处理器模式：

- 特权指令（内核态）
- 非特权指令（用户态）



时钟管理



原语：:one: 最接近硬件的部分;:two:操作一气呵成;:three:运行时间短，但频繁。

可以利用中断的==开关==实现



系统控制的数据结构及处理：

#作业控制块 #进程控制块 #设备控制块 #消息队列  #各类链表  #缓冲区  #空闲去登记表 #内存分配表。

为了实现：

- 进程管理
- 存储器管理
- 设备管理



中断和异常的概念

异常，（CPU）内中断
#非法操作码 #缺页 #除数0 #溢出 
即==执行出错==
中断，（CPU）外中断
与==当前无关==
#中断和异常的分类


#中断和异常的处理过程

#系统调用
定义：操作系统提供的字功能，特殊的公共程序
按功能分类：
- 设备管理
- 文件管理
- 进程管理
- 进程通信
- 内存管理
注意：由用户态转到内核态所使用的==访管==指令是属于用户态的

注意：当中断产生时，==PC==寄存器（中断点）和==PSW==寄存器由硬件自动保存，其他（通用寄存器）由操作系统手动保存。


#操作系统的结构
- 1 分层法
	- 优点：
		- 方便系统的调试和验证
		- 易扩充和易维护
	- 问题：
		- 各层定义困难
		- 效率差
- 2模块法
	- 优点：
		- 方便设计，理解和维护
		- 适应性更强
		- 加速开发过程
	- 问题：
		- 模块间接口难以达到实际需求
		- 个模块间难以确定优先级和顺序
	- 内聚性和耦合性：
		- 内聚性：反应各模块间紧密程度，内聚性越==高==独立性越==好==
		- 耦合性：反应各模块间影响程度，耦合性越==低==独立性越==好==
- 3宏内核
	- 各功能具一体
	- Win Android iOS macOS Linux
- 4微内核
	- 只有必要核心（硬件相关，通信，基础功能），其他的靠拓展
	- 基本功能：
		- 线程管理
		- 存储器调度
		- 中断与陷入
	- 特点：
		- 拓展性和灵活性（效率低）
		- 可靠性和安全性
		- 可移植
		- 分布式计算（基于C/S模式）
- 5外核
	- 用于虚拟机，直接将硬盘资源映射于多个虚拟机。


#操作系统过程：
- 激活CPU
- 硬件自检（注意：在执行完BIOS之后）
- 加载带操作系统的硬盘
- 加载主引导记录（MBR）
- 扫描硬盘分区表
- 加载分区引导记录（PBR）
- 加载启动管理器
- 加载操作系统


#虚拟机
- 1第一类虚拟机（裸金属架构）
	- 运行在最高特权级
- 2第二类虚拟机（寄居架构）
	- 运行在宿主操作系统上
	  VM Xbox
	  
	虚拟机也可以通过==硬件==实现