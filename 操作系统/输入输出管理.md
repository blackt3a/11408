重点:

- IO接口
- IO软件
- 三种IO控制方式
- 高速缓存和缓冲区
- SPOOLing技术.
- 磁盘特性和调度算法.





#IO管理概述



IO设备管理是出了名的乱

设备的分类:

- 按信息交换方式分:

  - 块设备

    信息交换以==数据块==为单位.它属于==结构设备==,如==磁盘==.块设备传输速率==高==,可寻址(随机读写)

  - 字符设备

     信息交换以==字节==为单位,属于==无结构==类型, 如==交互式终端机==,==打印机==等,==不可寻址==,速率==低==

- 按传输速率分类:

  - 低速设备: 10~100BYTE每秒

    ​	键鼠等

  - 中速设备: 10~100M每秒

    ​	激光打印机等

  - 高速设备: 10~100G每秒

    ​	磁盘机,光盘机



#IO接口

IO接口(设备控制器)位于CPU与设备==之间==,既要和CPU通信又要和设备==通信==,还要按CPU发来的指令去==控制==设备

主要组成:

- 设备控制器与CPU的接口(即三类信号线,数据线,地址线,控制线):

  其中,数据线与==两类==寄存器相连(==数据==寄存器,==控制==/状态寄存器)

- 设备控制器与设备的接口

  可以链接多个设备,每个设备都有==数据==,==控制==,==状态==三种信号(控制和状态都在控制寄存器)

- IO逻辑

  实现对设备的控制.通过一组控制线与CPU交互,对从CPU受到的IO命令进行译码.CPU启动设备时,经启动命令发送给控制器,同时把地址通过地址总线发给控制器,由控制器的IO逻辑对地址进行译码,并相应对所选设备进行控制.

设备控制器的主要功能:

- 接受和识别CPU发来的命令
- 数据交换
- 表示和报告设备的状态
- 地址识别
- 数据缓冲
- 差错控制



#IO端口

IO端口是指设备控制器==中==可被CPU直接访问的==寄存器==.

- 数据寄存器
- 状态寄存器
- 控制寄存器

为了实现CPU和IO端口的通信,有两种方法

- 独立编址

  为每一个端口分配一个端口号,所有IO端口形成一个IO端口空间,只有操作系统能够访问.

- 统一编址(内存映射IO)

  每个端口被分配唯一的内存地址,且不会有内存被分配这一地址,(通常分配给端口的地址靠近地址空间的==顶端==)

  

  

  #IO控制方式

  设备管理的主要任务之一是控制设备和内存或CPU之间的数据传输.外围设备和内存之间的输入输出控制方式有4种.

  

  1. 程序直接控制方式
  2. 中断驱动方式
  3. DMA方式
  4. 通道控制方式

  

  

  #IO软件层次结构

  - 用户层IO软件
  - 设备独立性软件
  - 设备驱动程序
  - 中断处理程序

  

  #应用IO接口

  - 字符设备接口
  - 块设备接口
  - 网络设备接口
  - 阻塞/非阻塞IO接口

  

  

  

  

  #应用程序IO接口

  

  



